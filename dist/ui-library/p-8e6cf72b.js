import{r as t,c as i,h as e,H as s}from"./p-fe42e5c8.js";const o=class{constructor(e){t(this,e),this.balTimeinputChange=i(this,"balTimeinputChange",7),this.balBlur=i(this,"balBlur",2),this.timeoutHandler=void 0,this.isPristine=!0,this.minHour=o.ZERO,this.minMinute=o.ZERO,this.currentMinMinute=o.ZERO,this.maxHour=o.MAX_HOUR,this.maxMinute=o.MAX_MINUTE,this.currentMaxMinute=o.MAX_MINUTE,this.value="",this.maxTime="",this.minTime="",this.inverted=!1}valueWatcher(t){this.parseValue(t)}maxTimeWatcher(t){this.parseMaxTime(t)}minTimeWatcher(t){this.parseMinTime(t)}componentWillLoad(){this.maxTime&&this.parseMaxTime(this.maxTime),this.minTime&&this.parseMinTime(this.minTime),this.value&&this.parseValue(this.value)}parseMaxTime(t){const i=o.CLOCK_PATTERN.exec(t);if(null!==i)return this.maxHour=Math.min(o.MAX_HOUR,parseInt(i[1],10)),this.maxMinute=Math.min(o.MAX_MINUTE,parseInt(i[2],10)),this.minHour=Math.min(this.maxHour,this.minHour),void this.updateCurrentMinuteBound();this.maxHour=o.MAX_HOUR,this.maxMinute=o.MAX_MINUTE,this.currentMaxMinute=o.MAX_MINUTE}parseMinTime(t){const i=o.CLOCK_PATTERN.exec(t);if(null!==i)return this.minHour=Math.min(this.maxHour,parseInt(i[1],10)),this.minMinute=Math.min(o.MAX_MINUTE,parseInt(i[2],10)),this.maxHour=Math.max(this.maxHour,this.minHour),void this.updateCurrentMinuteBound();this.minHour=o.ZERO,this.minMinute=o.ZERO,this.currentMinMinute=o.ZERO}parseValue(t){this.isPristine=!1;const i=o.CLOCK_PATTERN.exec(t);if(null!==i)return this.hour=Math.min(this.maxHour,Math.max(this.minHour,parseInt(i[1],10))),this.updateCurrentMinuteBound(),void(this.minute=Math.min(this.currentMaxMinute,Math.max(this.currentMinMinute,parseInt(i[2],10))));this.hour=void 0,this.minute=void 0}updateCurrentMinuteBound(){this.currentMinMinute=o.ZERO,this.currentMaxMinute=o.MAX_MINUTE,this.hour===this.maxHour&&(this.currentMaxMinute=this.maxMinute),this.hour===this.minHour&&(this.currentMinMinute=this.minMinute)}incHour(){var t;return!(this.hour>=this.maxHour||(this.hour=(null!==(t=this.hour)&&void 0!==t?t:this.minHour)+1,this.updateCurrentMinuteBound(),this.onValueChange(),0))}decHour(){var t;return!(this.hour<=this.minHour||(this.hour=(null!==(t=this.hour)&&void 0!==t?t:this.minHour)-1,this.updateCurrentMinuteBound(),this.onValueChange(),0))}incMinute(){var t;return!(this.minute>=this.currentMaxMinute||(this.minute=(null!==(t=this.minute)&&void 0!==t?t:this.currentMinMinute)+1,this.onValueChange(),0))}decMinute(){var t;return!(this.minute<=this.currentMinMinute||(this.minute=(null!==(t=this.minute)&&void 0!==t?t:this.currentMinMinute)-1,this.onValueChange(),0))}async onHourChange(t){const i=parseInt(t.target.value,10);this.hour=isNaN(i)?void 0:i,this.updateCurrentMinuteBound(),this.onValueChange()}async onMinuteChange(t){const i=parseInt(t.target.value,10);this.minute=isNaN(i)?void 0:i,this.onValueChange()}repeatOnHold(t,i=500,e=1.5){t()?this.timeoutHandler=setTimeout(()=>this.repeatOnHold(t,i/e,e),i):this.onMouseLeafOrUp()}onMouseLeafOrUp(){void 0!==this.timeoutHandler&&(clearTimeout(this.timeoutHandler),this.timeoutHandler=void 0,this.balBlur.emit())}onValueChange(){void 0!==this.hour&&void 0!==this.minute&&(this.minute=Math.min(this.currentMaxMinute,Math.max(this.currentMinMinute,this.minute)),this.value=o.formatTimeBoxValue(this.hour)+":"+o.formatTimeBoxValue(this.minute),this.balTimeinputChange.emit(this.value))}get hourOptions(){const t=[];for(const i of Array.from(Array(o.MAX_HOUR+1).keys()))t.push({value:o.formatTimeBoxValue(i),disabled:i<this.minHour||i>this.maxHour});return t}get minuteOptions(){const t=[];for(const i of Array.from(Array(o.MAX_MINUTE+1).keys()))t.push({value:o.formatTimeBoxValue(i),disabled:void 0!==this.hour&&(this.hour===this.minHour&&i<this.minMinute||this.hour===this.maxHour&&i>this.maxMinute)});return t}static formatTimeBoxValue(t){var i;return null===(i=null==t?void 0:t.toString())||void 0===i?void 0:i.padStart(2,"0")}render(){return e(s,null,e("div",{class:["stepper",this.inverted?"is-inverted":""].join(" ")},e("button",{class:"stepper-btn",onMouseDown:()=>this.repeatOnHold(()=>this.incHour()),onMouseUp:()=>this.onMouseLeafOrUp(),onMouseLeave:()=>this.onMouseLeafOrUp(),disabled:this.disabled||this.hour>=this.maxHour,tabindex:"-1"},e("svg",{width:"15px",height:"10px",version:"1.1"},e("g",{"stroke-width":"3.25",fill:"none",stroke:this.inverted?"#ffffff":"#003399"},e("polyline",{points:"2,8 7.5,2 13,8"})))),e("select",{class:"input time-box",onBlur:this.balBlur.emit.bind(this),onChange:this.onHourChange.bind(this),disabled:this.disabled},e("option",{value:"",disabled:!0,selected:void 0===this.hour},"--"),this.hourOptions.map(t=>e("option",{selected:t.value===o.formatTimeBoxValue(this.hour),disabled:t.disabled,value:t.value},t.value))),e("button",{class:"stepper-btn",onMouseDown:()=>this.repeatOnHold(()=>this.decHour()),onMouseUp:()=>this.onMouseLeafOrUp(),onMouseLeave:()=>this.onMouseLeafOrUp(),disabled:this.disabled||this.hour<=this.minHour||void 0===this.hour,tabindex:"-1"},e("svg",{width:"15px",height:"10px",version:"1.1"},e("g",{"stroke-width":"3.25",fill:"none",stroke:this.inverted?"#ffffff":"#003399"},e("polyline",{points:"2,2 7.5,8 13,2"}))))),e("div",{class:["time-divider",this.inverted?"is-inverted":""].join(" ")}),e("div",{class:"stepper"},e("button",{class:"stepper-btn",onMouseDown:()=>this.repeatOnHold(()=>this.incMinute()),onMouseUp:()=>this.onMouseLeafOrUp(),onMouseLeave:()=>this.onMouseLeafOrUp(),disabled:this.disabled||this.minute>=this.currentMaxMinute,tabindex:"-1"},e("svg",{width:"15px",height:"10px",version:"1.1"},e("g",{"stroke-width":"3.25",fill:"none",stroke:this.inverted?"#ffffff":"#003399"},e("polyline",{points:"2,8 7.5,2 13,8"})))),e("select",{class:"time-box",onBlur:this.balBlur.emit.bind(this),onChange:this.onMinuteChange.bind(this),disabled:this.disabled},e("option",{value:"",disabled:!0,selected:void 0===this.minute},"--"),this.minuteOptions.map(t=>e("option",{selected:t.value===o.formatTimeBoxValue(this.minute),disabled:t.disabled,value:t.value},t.value))),e("button",{class:"stepper-btn",onMouseDown:()=>this.repeatOnHold(()=>this.decMinute()),onMouseUp:()=>this.onMouseLeafOrUp(),onMouseLeave:()=>this.onMouseLeafOrUp(),disabled:this.disabled||this.minute<=this.currentMinMinute||void 0===this.minute,tabindex:"-1"},e("svg",{width:"15px",height:"10px",version:"1.1"},e("g",{"stroke-width":"3.25",fill:"none",stroke:this.inverted?"#ffffff":"#003399"},e("polyline",{points:"2,2 7.5,8 13,2"}))))))}static get watchers(){return{value:["valueWatcher"],maxTime:["maxTimeWatcher"],minTime:["minTimeWatcher"]}}};o.CLOCK_PATTERN=/^([0-9]{1,2}):([0-9]{1,2})$/,o.POS_NUM_PATTERN=/^([0-9]{0,2})$/,o.ZERO=0,o.MAX_HOUR=23,o.MAX_MINUTE=59,o.style='*{-webkit-box-sizing:border-box;box-sizing:border-box;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%}input.input,textarea.textarea{border-top:none;border-left:none;border-right:none;border-width:1px;border-radius:0;-webkit-box-shadow:none;box-shadow:none;padding:1px 0 2px 0;font-size:1.125rem;outline:none;color:#222222}input.input:focus,input.input.is-focused,textarea.textarea:focus,textarea.textarea.is-focused{border-width:2px;border-color:#003399;padding:1px 0 1px 0;-webkit-box-shadow:none;box-shadow:none}input.input:disabled,textarea.textarea:disabled{padding-left:5px;padding-right:5px}input.input.is-inverted,textarea.textarea.is-inverted{color:#ffffff;border-bottom-color:#99add6}input.input.is-inverted:focus,input.input.is-inverted.is-focused,textarea.textarea.is-inverted:focus,textarea.textarea.is-inverted.is-focused{border-width:2px;border-bottom-color:#ffffff}input.input.is-inverted:disabled,textarea.textarea.is-inverted:disabled{background-color:#002b82}input.input.is-inverted::-webkit-input-placeholder,textarea.textarea.is-inverted::-webkit-input-placeholder{color:#7188b8}.control.has-icons-right .input,.control.has-icons-right .select select{padding-right:31px !important}.control.has-icons-right .icon{top:5px !important;height:31px !important;width:31px !important}label.label bal-hint{margin-left:8px}:host{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}:host .stepper{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center}:host .stepper .stepper-btn{border:none;outline:0;padding:5px 0 5px 0;background-color:transparent;cursor:pointer}:host .stepper .stepper-btn:disabled{cursor:not-allowed}:host .stepper .stepper-btn:disabled *{color:#99add6;stroke:#99add6}:host .stepper .time-box{-webkit-appearance:none;-moz-appearance:none;appearance:none;border-top:none;border-left:none;border-right:none;border-width:1px;border-radius:0;-webkit-box-shadow:none;box-shadow:none;padding-left:5px;padding-right:5px;font-size:1.125rem;outline:none;color:#222222;min-height:45px}:host .stepper .time-box:focus,:host .stepper .time-box.is-focused{border-width:2px;border-color:#003399;-webkit-box-shadow:none;box-shadow:none}:host .stepper .time-box:disabled{background-color:#f0fbff;cursor:not-allowed}:host .time-divider{-ms-flex-align:stretch;align-items:stretch;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-direction:column;flex-direction:column;height:100%}:host .time-divider:after,:host .time-divider:before{content:"";width:0.3em;height:0.3em;margin-top:0.15em;margin-bottom:0.15em;margin-left:0.35em;margin-right:0.35em;border-radius:50%;background-color:#003399}:host .is-inverted:after,:host .is-inverted:before{background-color:#ffffff}';export{o as T}